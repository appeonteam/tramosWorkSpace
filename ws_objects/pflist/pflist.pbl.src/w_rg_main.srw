$PBExportHeader$w_rg_main.srw
forward
global type w_rg_main from w_events_pcgroup
end type
type uo_pcgroup from u_pcgroup within w_rg_main
end type
type st_30 from statictext within w_rg_main
end type
type st_28 from statictext within w_rg_main
end type
type pb_14 from picturebutton within w_rg_main
end type
type pb_13 from picturebutton within w_rg_main
end type
type pb_12 from picturebutton within w_rg_main
end type
type pb_11 from picturebutton within w_rg_main
end type
type pb_10 from picturebutton within w_rg_main
end type
type pb_9 from picturebutton within w_rg_main
end type
type pb_8 from picturebutton within w_rg_main
end type
type pb_7 from picturebutton within w_rg_main
end type
type pb_6 from picturebutton within w_rg_main
end type
type pb_5 from picturebutton within w_rg_main
end type
type pb_4 from picturebutton within w_rg_main
end type
type pb_3 from picturebutton within w_rg_main
end type
type pb_2 from picturebutton within w_rg_main
end type
type pb_1 from picturebutton within w_rg_main
end type
type cbx_template from mt_u_checkbox within w_rg_main
end type
type cb_delete from mt_u_commandbutton within w_rg_main
end type
type cb_savechanges from mt_u_commandbutton within w_rg_main
end type
type dw_criteria from datawindow within w_rg_main
end type
type cb_create from mt_u_commandbutton within w_rg_main
end type
type sle_templatename from mt_u_singlelineedit within w_rg_main
end type
type st_29 from mt_u_statictext within w_rg_main
end type
type dw_template from datawindow within w_rg_main
end type
type cb_saveas from mt_u_commandbutton within w_rg_main
end type
type cb_generate from commandbutton within w_rg_main
end type
type sle_vesselage_from from mt_u_singlelineedit within w_rg_main
end type
type st_27 from statictext within w_rg_main
end type
type st_26 from statictext within w_rg_main
end type
type sle_cargosize_to from mt_u_singlelineedit within w_rg_main
end type
type st_25 from statictext within w_rg_main
end type
type st_24 from statictext within w_rg_main
end type
type sle_cargosize_from from mt_u_singlelineedit within w_rg_main
end type
type dw_fixturereported_to from datawindow within w_rg_main
end type
type dw_fixturereported_from from datawindow within w_rg_main
end type
type st_23 from statictext within w_rg_main
end type
type st_22 from statictext within w_rg_main
end type
type dw_lcend_to from datawindow within w_rg_main
end type
type dw_lcend_from from datawindow within w_rg_main
end type
type st_21 from statictext within w_rg_main
end type
type st_20 from statictext within w_rg_main
end type
type st_19 from statictext within w_rg_main
end type
type st_18 from statictext within w_rg_main
end type
type dw_lcstart_from from datawindow within w_rg_main
end type
type cb_16 from mt_u_commandbutton within w_rg_main
end type
type cb_15 from mt_u_commandbutton within w_rg_main
end type
type dw_rg_loadarea_by_id from datawindow within w_rg_main
end type
type st_15 from statictext within w_rg_main
end type
type cb_14 from mt_u_commandbutton within w_rg_main
end type
type cb_13 from mt_u_commandbutton within w_rg_main
end type
type st_14 from statictext within w_rg_main
end type
type dw_rg_dischargearea_by_id from datawindow within w_rg_main
end type
type st_12 from statictext within w_rg_main
end type
type dw_rg_grade_by_id from datawindow within w_rg_main
end type
type cb_11 from mt_u_commandbutton within w_rg_main
end type
type st_11 from statictext within w_rg_main
end type
type dw_rg_vessel_by_id from datawindow within w_rg_main
end type
type cb_10 from mt_u_commandbutton within w_rg_main
end type
type cb_8 from mt_u_commandbutton within w_rg_main
end type
type dw_rg_owner_by_id from datawindow within w_rg_main
end type
type st_9 from statictext within w_rg_main
end type
type cb_7 from mt_u_commandbutton within w_rg_main
end type
type dw_rg_charterer_by_id from datawindow within w_rg_main
end type
type st_8 from statictext within w_rg_main
end type
type cb_6 from mt_u_commandbutton within w_rg_main
end type
type dw_rg_broker_by_id from datawindow within w_rg_main
end type
type st_6 from statictext within w_rg_main
end type
type st_5 from statictext within w_rg_main
end type
type dw_rg_operator_by_id from datawindow within w_rg_main
end type
type cb_5 from mt_u_commandbutton within w_rg_main
end type
type cb_4 from mt_u_commandbutton within w_rg_main
end type
type dw_rg_trade_by_id from datawindow within w_rg_main
end type
type st_4 from statictext within w_rg_main
end type
type st_3 from statictext within w_rg_main
end type
type dw_rg_cargotype_by_id from datawindow within w_rg_main
end type
type cb_3 from mt_u_commandbutton within w_rg_main
end type
type cb_2 from mt_u_commandbutton within w_rg_main
end type
type dw_rg_status_by_id from datawindow within w_rg_main
end type
type st_2 from statictext within w_rg_main
end type
type cb_1 from mt_u_commandbutton within w_rg_main
end type
type st_1 from statictext within w_rg_main
end type
type dw_rg_printheader_by_id from datawindow within w_rg_main
end type
type dw_lcstart_to from datawindow within w_rg_main
end type
type sle_vesselage_to from mt_u_singlelineedit within w_rg_main
end type
type gb_1 from mt_u_groupbox within w_rg_main
end type
type dw_new from datawindow within w_rg_main
end type
type dw_rg_dischargeport_by_id from datawindow within w_rg_main
end type
type st_17 from statictext within w_rg_main
end type
type st_16 from statictext within w_rg_main
end type
type dw_rg_loadport_by_id from datawindow within w_rg_main
end type
type st_13 from statictext within w_rg_main
end type
type mle_1 from multilineedit within w_rg_main
end type
end forward

global type w_rg_main from w_events_pcgroup
integer width = 5111
integer height = 3536
string title = "Report Generator"
uo_pcgroup uo_pcgroup
st_30 st_30
st_28 st_28
pb_14 pb_14
pb_13 pb_13
pb_12 pb_12
pb_11 pb_11
pb_10 pb_10
pb_9 pb_9
pb_8 pb_8
pb_7 pb_7
pb_6 pb_6
pb_5 pb_5
pb_4 pb_4
pb_3 pb_3
pb_2 pb_2
pb_1 pb_1
cbx_template cbx_template
cb_delete cb_delete
cb_savechanges cb_savechanges
dw_criteria dw_criteria
cb_create cb_create
sle_templatename sle_templatename
st_29 st_29
dw_template dw_template
cb_saveas cb_saveas
cb_generate cb_generate
sle_vesselage_from sle_vesselage_from
st_27 st_27
st_26 st_26
sle_cargosize_to sle_cargosize_to
st_25 st_25
st_24 st_24
sle_cargosize_from sle_cargosize_from
dw_fixturereported_to dw_fixturereported_to
dw_fixturereported_from dw_fixturereported_from
st_23 st_23
st_22 st_22
dw_lcend_to dw_lcend_to
dw_lcend_from dw_lcend_from
st_21 st_21
st_20 st_20
st_19 st_19
st_18 st_18
dw_lcstart_from dw_lcstart_from
cb_16 cb_16
cb_15 cb_15
dw_rg_loadarea_by_id dw_rg_loadarea_by_id
st_15 st_15
cb_14 cb_14
cb_13 cb_13
st_14 st_14
dw_rg_dischargearea_by_id dw_rg_dischargearea_by_id
st_12 st_12
dw_rg_grade_by_id dw_rg_grade_by_id
cb_11 cb_11
st_11 st_11
dw_rg_vessel_by_id dw_rg_vessel_by_id
cb_10 cb_10
cb_8 cb_8
dw_rg_owner_by_id dw_rg_owner_by_id
st_9 st_9
cb_7 cb_7
dw_rg_charterer_by_id dw_rg_charterer_by_id
st_8 st_8
cb_6 cb_6
dw_rg_broker_by_id dw_rg_broker_by_id
st_6 st_6
st_5 st_5
dw_rg_operator_by_id dw_rg_operator_by_id
cb_5 cb_5
cb_4 cb_4
dw_rg_trade_by_id dw_rg_trade_by_id
st_4 st_4
st_3 st_3
dw_rg_cargotype_by_id dw_rg_cargotype_by_id
cb_3 cb_3
cb_2 cb_2
dw_rg_status_by_id dw_rg_status_by_id
st_2 st_2
cb_1 cb_1
st_1 st_1
dw_rg_printheader_by_id dw_rg_printheader_by_id
dw_lcstart_to dw_lcstart_to
sle_vesselage_to sle_vesselage_to
gb_1 gb_1
dw_new dw_new
dw_rg_dischargeport_by_id dw_rg_dischargeport_by_id
st_17 st_17
st_16 st_16
dw_rg_loadport_by_id dw_rg_loadport_by_id
st_13 st_13
mle_1 mle_1
end type
global w_rg_main w_rg_main

type variables
long 						ii_pcgroup, il_reportgtemplateid
s_report_generator		is_rg
string 						is_report_type, is_table
end variables

forward prototypes
public function string wf_build_sql_syntax ()
public subroutine uf_createtemplate (datawindow adw, string column_name, long reportgtemplateid)
public subroutine uf_createtemplate_date (datawindow adw, string column_name, integer reportgtemplateid)
public subroutine uf_createtemplate_text (singlelineedit sle, string column_name, integer reportgtemplateid)
public subroutine uf_changetemplate (datawindow adw, string column_name, integer reportgtemplateid)
public subroutine uf_changetemplate_date (datawindow adw, string column_name)
public subroutine uf_changetemplate_date (datawindow adw, string column_name, integer reportgtemplateid)
public subroutine uf_changetemplate_text (singlelineedit sle, string column_name, integer reportgtemplateid)
public function string uf_setcriteria (datawindow adw, string criteria, string column_name)
end prototypes

public function string wf_build_sql_syntax ();// This will build a sql syntax string based on the selected items in 
// the dw_columns and dw_tables datawindows.

// The function will return a string 

string	ls_columns, ls_column, ls_sql_syntax,ls_tables, ls_table, ls_conditions_cargotype, ls_conditions_status, ls_conditions_trade,&
ls_conditions_owner, ls_conditions_broker, ls_conditions_charterer, ls_conditions_operator, ls_conditions_grade, ls_conditions_cpstatus, &
ls_conditions_hull, ls_conditions_vessel, ls_conditions_loadarea, ls_conditions_dischargearea, ls_conditions_loadport, ls_conditions_dischargeport, &
ls_conditions_competitor
long	ll_rows, ll_index

//Scan the columns datawindow and find all the selected columns. 
//Build a string of columns based on the selected rows.
ll_rows = dw_rg_printheader_by_id.RowCount ( )

For ll_index = 1 to ll_rows
	If ls_columns <> "" Then ls_columns = ls_columns + ", "
	ls_column = dw_rg_printheader_by_id.GetItemString(ll_index, 3)+"."+dw_rg_printheader_by_id.GetItemString(ll_index, 4)
	if  ls_column = "VESSELS.AGE" then
		ls_column  = "datediff(YEAR,VESSELS.CAL_BUILD_DATE,getdate()) AS Age"
	elseif ls_column = "NULL.Competitor Ship" then
		ls_column  = "(CASE PF_FIXTURE.VESSELID WHEN NULL THEN 'YES' ELSE 'NO' END) AS 'Competitor Ship'"
	else
		ls_column = ls_column + " AS '" + dw_rg_printheader_by_id.GetItemString(ll_index, 1) + "'"
	end if
	if dw_rg_printheader_by_id.GetItemString(ll_index, 3) = "VESSELS" then
		if dw_rg_printheader_by_id.GetItemString(ll_index, 4) = "VESSEL_NAME" then
			ls_column = "(CASE VESSELS.VESSEL_NAME WHEN NULL THEN CAL_CLAR.CAL_CLRK_NAME ELSE VESSELS.VESSEL_NAME END) AS Vessel" 
		elseif dw_rg_printheader_by_id.GetItemString(ll_index, 4) = "CAL_SDWT" then
			ls_column = "(CASE VESSELS.CAL_SDWT WHEN NULL THEN CAL_CLAR.CAL_CLRK_DWT ELSE VESSELS.CAL_SDWT END) AS 'Dead Weight'" 
		elseif dw_rg_printheader_by_id.GetItemString(ll_index, 4) = "CAL_CBM" then
			ls_column = "(CASE VESSELS.CAL_CBM WHEN NULL THEN CAL_CLAR.CAL_CBM ELSE VESSELS.CAL_CBM END) AS 'Capacity L'" 
		elseif dw_rg_printheader_by_id.GetItemString(ll_index, 4) = "CAL_BUILD_DATE" then
			ls_column = "(CASE VESSELS.CAL_BUILD_DATE WHEN NULL THEN CAL_CLAR.CAL_CLRK_BUILD_YEAR ELSE YEAR(VESSELS.CAL_BUILD_DATE) END) AS 'Year Built'" 
		elseif dw_rg_printheader_by_id.GetItemString(ll_index, 4) = "PREVIOUS_NAME" then
			ls_column = "(CASE VESSELS.PREVIOUS_NAME WHEN NULL THEN '' ELSE VESSELS.PREVIOUS_NAME END) AS 'Previous Name'" 
		end if
	end if
	ls_columns = ls_columns + ls_column
	If ls_tables <> "" Then ls_tables = ls_tables + ", "
	ls_table = dw_rg_printheader_by_id.GetItemString(ll_index, 3)
	ls_tables = ls_tables + ls_table
Next

ls_conditions_status = uf_setcriteria(dw_rg_status_by_id, "PF_FIXTURE_STATUS.NAME", "name")
ls_conditions_cargotype = uf_setcriteria(dw_rg_cargotype_by_id, "PF_FIXTURE_CARGOTYPE.NAME", "name")
ls_conditions_trade = uf_setcriteria(dw_rg_trade_by_id, "PF_FIXTURE_TRADE.NAME", "name")
ls_conditions_grade = uf_setcriteria(dw_rg_grade_by_id, "PF_FIXTURE_CARGO.NAME", "name")
ls_conditions_owner = uf_setcriteria(dw_rg_owner_by_id, "OWNER.COMPANY", "company")
ls_conditions_broker = uf_setcriteria(dw_rg_broker_by_id, "BROKER.COMPANY", "company")
ls_conditions_charterer = uf_setcriteria(dw_rg_charterer_by_id, "CHARTERER.COMPANY", "company")
ls_conditions_operator = uf_setcriteria(dw_rg_operator_by_id, "OPERATOR.COMPANY", "company")
if dw_rg_vessel_by_id.rowcount( ) > 0 then
	for ll_index = 1 to dw_rg_vessel_by_id.rowcount( )
		if dw_rg_vessel_by_id.getitemnumber( ll_index, "competitor") = 0 then
		ls_conditions_vessel = ls_conditions_vessel + "'" + dw_rg_vessel_by_id.getitemstring(ll_index,"vessel_name") + "',"
	    else
		ls_conditions_competitor =  ls_conditions_vessel + "'" + dw_rg_vessel_by_id.getitemstring(ll_index,"vessel_name") + "',"
	    end if
	next
	
	if ls_conditions_vessel <>"" then
		ls_conditions_vessel = mid(ls_conditions_vessel,1,len(ls_conditions_vessel)-1)
		ls_conditions_vessel  = "VESSELS.VESSEL_NAME in (" +  ls_conditions_vessel +")"
	else
		ls_conditions_vessel  = "VESSELS.VESSEL_NAME in ('z')"
	end if
	
	if ls_conditions_competitor<>"" then
	 	ls_conditions_competitor = mid(ls_conditions_competitor,1,len(ls_conditions_competitor)-1) 
		ls_conditions_competitor = "CAL_CLAR.CAL_CLRK_NAME in (" +  ls_conditions_competitor +")"
	else
		ls_conditions_competitor  = "CAL_CLAR.CAL_CLRK_NAME in ('z')"
	end if
	
end if
ls_conditions_loadarea = uf_setcriteria(dw_rg_loadarea_by_id, "LAREA.AREA_NAME", "name")
ls_conditions_dischargearea = uf_setcriteria(dw_rg_dischargearea_by_id, "DAREA.AREA_NAME", "name")
ls_conditions_loadport = uf_setcriteria(dw_rg_loadport_by_id, "LPORT.PORT_N", "port_n")
ls_conditions_dischargeport = uf_setcriteria(dw_rg_dischargeport_by_id, "DPORT.PORT_N", "port_n")

dw_fixturereported_from.accepttext()
dw_fixturereported_to.accepttext()
dw_lcstart_from.accepttext()
dw_lcstart_to.accepttext()
dw_lcend_from.accepttext()
dw_lcend_to.accepttext()

if (sle_cargosize_from.text <> "" and long(sle_cargosize_from.text) = 0) or (sle_cargosize_to.text <> "" and long(sle_cargosize_to.text) = 0) then
	messagebox("Validation","Please input a number on cargosize filed.")
	return ""
end if

//contsruct the sql string 
If ls_columns <> "" Then		
	// Construct the Select statement
	ls_sql_syntax = "SELECT " + ls_columns
	ls_sql_syntax = ls_sql_syntax + " FROM PF_FIXTURE, PF_FIXTURE_CARGOTYPE, PF_FIXTURE_STATUS, PF_COMPANY BROKER,  PF_COMPANY OPERATOR, PF_COMPANY OWNER, PF_COMPANY CHARTERER, PF_FIXTURE_CARGO, PF_FIXTURE_TRADE, AREA LAREA,AREA DAREA, PORTS DPORT, PORTS LPORT, VESSELS, CAL_CLAR" 
	ls_sql_syntax = ls_sql_syntax + " WHERE " 
	ls_sql_syntax = ls_sql_syntax + "PF_FIXTURE.PCGROUP_ID = " + string(ii_pcgroup)
	if dw_rg_cargotype_by_id.rowcount( ) = 0 then
		ls_sql_syntax = ls_sql_syntax + " AND ( PF_FIXTURE_CARGOTYPE.CARGOTYPEID =* PF_FIXTURE.CARGOTYPEID )"
	else
		ls_sql_syntax = ls_sql_syntax + " AND ( PF_FIXTURE_CARGOTYPE.CARGOTYPEID = PF_FIXTURE.CARGOTYPEID )"
	end if
	if dw_rg_grade_by_id.rowcount( ) = 0 then
		ls_sql_syntax = ls_sql_syntax + " and ( PF_FIXTURE_CARGO.CARGOID =* PF_FIXTURE.CARGOID )" 
	else
		ls_sql_syntax = ls_sql_syntax + " and ( PF_FIXTURE_CARGO.CARGOID =  PF_FIXTURE.CARGOID )" 
	end if
    	if dw_rg_trade_by_id.rowcount( ) = 0 and dw_rg_loadarea_by_id.rowcount( ) = 0 and dw_rg_dischargearea_by_id.rowcount( ) = 0 then
		ls_sql_syntax = ls_sql_syntax + " and ( PF_FIXTURE_TRADE.TRADEID =* PF_FIXTURE.TRADEID )"
		ls_sql_syntax = ls_sql_syntax + " and ( LAREA.AREA_PK =* PF_FIXTURE_TRADE.LOADAREAID )"
		ls_sql_syntax = ls_sql_syntax + " and ( DAREA.AREA_PK =* PF_FIXTURE_TRADE.DISCHARGEAREAID )"
	else
		ls_sql_syntax = ls_sql_syntax + " and ( PF_FIXTURE_TRADE.TRADEID = PF_FIXTURE.TRADEID )"
		ls_sql_syntax = ls_sql_syntax + " and ( LAREA.AREA_PK =  PF_FIXTURE_TRADE.LOADAREAID )"
		ls_sql_syntax = ls_sql_syntax + " and ( DAREA.AREA_PK = PF_FIXTURE_TRADE.DISCHARGEAREAID )" 
	end if    	
	if dw_rg_status_by_id.rowcount( ) = 0 then
		ls_sql_syntax = ls_sql_syntax + " and ( PF_FIXTURE_STATUS.STATUSID =* PF_FIXTURE.STATUSID )"
	else
		ls_sql_syntax = ls_sql_syntax + " and ( PF_FIXTURE_STATUS.STATUSID = PF_FIXTURE.STATUSID )"
	end if						
	if dw_rg_broker_by_id.rowcount( ) = 0 then
		ls_sql_syntax = ls_sql_syntax + " and ( PF_FIXTURE.BROKERID *= BROKER.COMPANYID )"
	else
		ls_sql_syntax = ls_sql_syntax + " and ( PF_FIXTURE.BROKERID = BROKER.COMPANYID )"
	end if						

	if dw_rg_charterer_by_id.rowcount( ) = 0 then
		ls_sql_syntax = ls_sql_syntax + " and ( PF_FIXTURE.CHARTERERID *= CHARTERER.COMPANYID )" 
	else
		ls_sql_syntax = ls_sql_syntax + " and ( PF_FIXTURE.CHARTERERID = CHARTERER.COMPANYID )"
	end if
	if dw_rg_dischargeport_by_id.rowcount( ) = 0 then
		ls_sql_syntax = ls_sql_syntax + " and ( DPORT.PORT_CODE =* PF_FIXTURE.DPORTCODE )" 
	else
		ls_sql_syntax = ls_sql_syntax + " and ( DPORT.PORT_CODE = PF_FIXTURE.DPORTCODE )"
	end if	
	if dw_rg_loadport_by_id.rowcount( ) = 0 then
		ls_sql_syntax = ls_sql_syntax + " and ( LPORT.PORT_CODE =* PF_FIXTURE.LPORTCODE )"
	else
		ls_sql_syntax = ls_sql_syntax + " and ( LPORT.PORT_CODE = PF_FIXTURE.LPORTCODE )"
	end if	
	
	if dw_rg_operator_by_id.rowcount( ) = 0 AND dw_rg_owner_by_id.rowcount( ) = 0 THEN
		ls_sql_syntax = ls_sql_syntax + " and ( CAL_CLAR.CAL_CLRK_ID =* PF_FIXTURE.VESSELID_WEB ) "
		ls_sql_syntax = ls_sql_syntax + " and (CAL_CLAR.VESSEL_OPERATOR *= OPERATOR.COMPANYID )"
		ls_sql_syntax = ls_sql_syntax + " and ( CAL_CLAR.VESSEL_OWNER *= OWNER.COMPANYID )"
	ELSE
		ls_sql_syntax = ls_sql_syntax + " and ( CAL_CLAR.CAL_CLRK_ID = PF_FIXTURE.VESSELID_WEB ) "
		ls_sql_syntax = ls_sql_syntax + " and (CAL_CLAR.VESSEL_OPERATOR = OPERATOR.COMPANYID )"
		ls_sql_syntax = ls_sql_syntax + " and ( CAL_CLAR.VESSEL_OWNER = OWNER.COMPANYID )"
	END IF
	
/*	if dw_rg_operator_by_id.rowcount( ) = 0 then
		ls_sql_syntax = ls_sql_syntax + " and (CAL_CLAR.VESSEL_OPERATOR *= OPERATOR.COMPANYID )"
	else
		ls_sql_syntax = ls_sql_syntax + " and ( CAL_CLAR.VESSEL_OPERATOR = OPERATOR.COMPANYID )"
	end if				
	if dw_rg_owner_by_id.rowcount( ) = 0 then
		ls_sql_syntax = ls_sql_syntax + " and ( CAL_CLAR.VESSEL_OWNER *= OWNER.COMPANYID )"
	else
		ls_sql_syntax = ls_sql_syntax + "and ( CAL_CLAR.VESSEL_OWNER = OWNER.COMPANYID )"
	end if	   
	*/
	
	ls_sql_syntax = ls_sql_syntax + " and ( VESSELS.VESSEL_NR =* PF_FIXTURE.VESSELID )"
	
	//ls_sql_syntax = ls_sql_syntax + " and ( CAL_CLAR.CAL_CLRK_COMPETITOR_VESSEL_ID =* PF_FIXTURE.VESSELID_WEB ) "
	
	if ls_conditions_status <> "" then
		ls_sql_syntax = ls_sql_syntax + " and ("+ ls_conditions_status + ")" 
	end if
	if ls_conditions_cargotype <> "" then
		ls_sql_syntax = ls_sql_syntax + " and ("+ ls_conditions_cargotype + ")" 
	end if						
	if ls_conditions_trade <> "" then
		ls_sql_syntax = ls_sql_syntax + " and ("+ ls_conditions_trade + ")" 
	end if		
	if ls_conditions_grade <> "" then
		ls_sql_syntax = ls_sql_syntax + " and ("+ ls_conditions_grade + ")" 
	end if	
	if ls_conditions_owner <> "" then
		ls_sql_syntax = ls_sql_syntax + " and ("+ ls_conditions_owner + ")" 
	end if	
	if ls_conditions_broker <> "" then
		ls_sql_syntax = ls_sql_syntax + " and ("+ ls_conditions_broker + ")" 
	end if	
	if ls_conditions_charterer <> "" then
		ls_sql_syntax = ls_sql_syntax + " and ("+ ls_conditions_charterer + ")" 
	end if	
	if ls_conditions_operator <> "" then
		ls_sql_syntax = ls_sql_syntax + " and ("+ ls_conditions_operator + ")" 
	end if	
	
	if ls_conditions_vessel <> ""  and ls_conditions_competitor <> "" then
		ls_sql_syntax = ls_sql_syntax + " and (("+ ls_conditions_vessel + ") or ("+ ls_conditions_competitor + "))" 
	elseif ls_conditions_vessel <> "" then
		ls_sql_syntax = ls_sql_syntax + " and ("+ ls_conditions_vessel + ")" 
	elseif ls_conditions_competitor <> "" then
		ls_sql_syntax = ls_sql_syntax + " and ("+ ls_conditions_competitor + ")"
	end if
	
	/*if ls_conditions_vessel <> "" then
		ls_sql_syntax = ls_sql_syntax + " and ("+ ls_conditions_vessel + ")" 
	end if	
	if ls_conditions_competitor <> "" then
		ls_sql_syntax = ls_sql_syntax + " and ("+ ls_conditions_competitor + ")" 
	end if	*/
	
	if ls_conditions_loadarea <> "" then
		ls_sql_syntax = ls_sql_syntax + " and ("+ ls_conditions_loadarea + ")" 
	end if	
	if ls_conditions_dischargearea <> "" then
		ls_sql_syntax = ls_sql_syntax + " and ("+ ls_conditions_dischargearea + ")" 
	end if	
	if ls_conditions_loadport <> "" then
		ls_sql_syntax = ls_sql_syntax + " and ("+ ls_conditions_loadport + ")" 
	end if	
	if ls_conditions_dischargeport <> "" then
		ls_sql_syntax = ls_sql_syntax + " and ("+ ls_conditions_dischargeport + ")" 
	end if	
	if string(dw_fixturereported_from.getitemdate( 1, "date_value")) <> "" then
		ls_sql_syntax = ls_sql_syntax + " and (PF_FIXTURE.FIXTUREREPORTED > = '" +  string(dw_fixturereported_from.getitemdate( 1, "date_value"),"mm/dd/yyyy") + "')"
	end if	
	if string(dw_fixturereported_to.getitemdate( 1, "date_value")) <> "" then
		ls_sql_syntax = ls_sql_syntax + " and (PF_FIXTURE.FIXTUREREPORTED < = '" +  string(dw_fixturereported_to.getitemdate( 1, "date_value"),"mm/dd/yyyy") + "')"
	end if			
	if string(dw_lcstart_from.getitemdate( 1, "date_value")) <> "" then
		ls_sql_syntax = ls_sql_syntax + " and (PF_FIXTURE.LCSTART > = '" +  string(dw_lcstart_from.getitemdate( 1, "date_value"),"mm/dd/yyyy") + "')"
	end if	
	if string(dw_lcstart_to.getitemdate( 1, "date_value")) <> "" then
		ls_sql_syntax = ls_sql_syntax + " and (PF_FIXTURE.LCSTART < = '" +  string(dw_lcstart_to.getitemdate( 1, "date_value"),"mm/dd/yyyy") + "')"
	end if	
	if string(dw_lcend_from.getitemdate( 1, "date_value")) <> "" then
		ls_sql_syntax = ls_sql_syntax + " and (PF_FIXTURE.LCEND > = '" +  string(dw_lcend_from.getitemdate( 1, "date_value"),"mm/dd/yyyy") + "')"
	end if	
	if string(dw_lcend_to.getitemdate( 1, "date_value")) <> "" then
		ls_sql_syntax = ls_sql_syntax + " and (PF_FIXTURE.LCEND < = '" +  string(dw_lcend_to.getitemdate( 1, "date_value"),"mm/dd/yyyy") + "')"
	end if	
	if sle_cargosize_from.text <> "" then
		ls_sql_syntax = ls_sql_syntax + " and (PF_FIXTURE.CARGOSIZE > = " +  (sle_cargosize_from.text) + ")"
	end if
	if sle_cargosize_to.text <> "" then
		ls_sql_syntax = ls_sql_syntax + " and (PF_FIXTURE.CARGOSIZE < = " +  (sle_cargosize_to.text) + ")"
	end if
	return ls_sql_syntax
Else
	return ""
End If
end function

public subroutine uf_createtemplate (datawindow adw, string column_name, long reportgtemplateid);int		li_i
string	ls_ids

if adw.rowcount( ) > 0 then
	for li_i = 1 to adw.rowcount( )
		if ls_ids = "" then
			if column_name = "Discharge Port" or column_name = "Load Port" then
				ls_ids = string(adw.getitemString( li_i, "port_code"))
			else
				ls_ids = string(adw.getitemnumber( li_i, "id"))
			end if
		else
			if column_name = "Discharge Port" or column_name = "Load Port" then
				ls_ids = ls_ids + ";" + string(adw.getitemString( li_i, "port_code"))
			else
				ls_ids = ls_ids + ";" + string(adw.getitemnumber( li_i, "id"))
			end if
		end if
	next
	INSERT INTO PF_REPORTGCRITERIA (REPORTGTEMPLATEID,NAME,IDS)
	VALUES (:reportgtemplateid,:column_name,:ls_ids)
	;
end if
end subroutine

public subroutine uf_createtemplate_date (datawindow adw, string column_name, integer reportgtemplateid);String ls_value
adw.accepttext( )
ls_value = string(adw.getitemdate( 1,"date_value"))
if not isnull(ls_value) then
	INSERT INTO PF_REPORTGCRITERIA (REPORTGTEMPLATEID,NAME,IDS)
	VALUES (:reportgtemplateid,:column_name,:ls_value)
	;
end if
end subroutine

public subroutine uf_createtemplate_text (singlelineedit sle, string column_name, integer reportgtemplateid);String ls_value

ls_value = sle.text
if not isnull(ls_value) then
	INSERT INTO PF_REPORTGCRITERIA (REPORTGTEMPLATEID,NAME,IDS)
	VALUES (:reportgtemplateid,:column_name,:ls_value)
	;
end if
end subroutine

public subroutine uf_changetemplate (datawindow adw, string column_name, integer reportgtemplateid);int		li_i
string	ls_ids

if adw.rowcount( ) > 0 then
	DELETE 
	FROM PF_REPORTGCRITERIA
	WHERE REPORTGTEMPLATEID = :reportgtemplateid AND NAME = :column_name
	;
	for li_i = 1 to adw.rowcount( )
		if ls_ids = "" then
			if column_name = "Discharge Port" or column_name = "Load Port" then
				ls_ids = string(adw.getitemString( li_i, "port_code"))
			elseif column_name = "Vessel" then
				ls_ids = string(adw.getitemString( li_i, "vessel_name"))
			else
				ls_ids = string(adw.getitemnumber( li_i, "id"))
			end if
		else
			if column_name = "Discharge Port" or column_name = "Load Port" then
				ls_ids = ls_ids + ";" + string(adw.getitemString( li_i, "port_code"))
			elseif column_name = "Vessel" then
				ls_ids = ls_ids + ";" + string(adw.getitemString( li_i, "vessel_name"))
			else
				ls_ids = ls_ids + ";" + string(adw.getitemnumber( li_i, "id"))
			end if
		end if
	next
	INSERT INTO PF_REPORTGCRITERIA (REPORTGTEMPLATEID,NAME,IDS)
	VALUES (:reportgtemplateid,:column_name,:ls_ids)
	;
end if
end subroutine

public subroutine uf_changetemplate_date (datawindow adw, string column_name);
end subroutine

public subroutine uf_changetemplate_date (datawindow adw, string column_name, integer reportgtemplateid);String ls_value
adw.accepttext( )
ls_value = string(adw.getitemdate( 1,"date_value"))
if not isnull(ls_value) then
	DELETE 
	FROM PF_REPORTGCRITERIA
	WHERE REPORTGTEMPLATEID = :reportgtemplateid AND NAME = :column_name
	;
	INSERT INTO PF_REPORTGCRITERIA (REPORTGTEMPLATEID,NAME,IDS)
	VALUES (:reportgtemplateid,:column_name,:ls_value)
	;
end if
end subroutine

public subroutine uf_changetemplate_text (singlelineedit sle, string column_name, integer reportgtemplateid);String ls_value

ls_value = sle.text
if not isnull(ls_value) then
	DELETE 
	FROM PF_REPORTGCRITERIA
	WHERE REPORTGTEMPLATEID = :reportgtemplateid AND NAME = :column_name
	;
	INSERT INTO PF_REPORTGCRITERIA (REPORTGTEMPLATEID,NAME,IDS)
	VALUES (:reportgtemplateid,:column_name,:ls_value)
	;
end if
end subroutine

public function string uf_setcriteria (datawindow adw, string criteria, string column_name);long	ll_index
string	ls_condition,ls_conditions

for ll_index = 1 to adw.rowcount( )
	If ls_conditions <> "" Then ls_conditions = ls_conditions + " or "
	ls_condition = criteria + " = " + "'" + adw.GetItemString(ll_index, column_name)+ "'"
	ls_conditions = ls_conditions + ls_condition
next

return ls_conditions

end function

on w_rg_main.create
int iCurrent
call super::create
this.uo_pcgroup=create uo_pcgroup
this.st_30=create st_30
this.st_28=create st_28
this.pb_14=create pb_14
this.pb_13=create pb_13
this.pb_12=create pb_12
this.pb_11=create pb_11
this.pb_10=create pb_10
this.pb_9=create pb_9
this.pb_8=create pb_8
this.pb_7=create pb_7
this.pb_6=create pb_6
this.pb_5=create pb_5
this.pb_4=create pb_4
this.pb_3=create pb_3
this.pb_2=create pb_2
this.pb_1=create pb_1
this.cbx_template=create cbx_template
this.cb_delete=create cb_delete
this.cb_savechanges=create cb_savechanges
this.dw_criteria=create dw_criteria
this.cb_create=create cb_create
this.sle_templatename=create sle_templatename
this.st_29=create st_29
this.dw_template=create dw_template
this.cb_saveas=create cb_saveas
this.cb_generate=create cb_generate
this.sle_vesselage_from=create sle_vesselage_from
this.st_27=create st_27
this.st_26=create st_26
this.sle_cargosize_to=create sle_cargosize_to
this.st_25=create st_25
this.st_24=create st_24
this.sle_cargosize_from=create sle_cargosize_from
this.dw_fixturereported_to=create dw_fixturereported_to
this.dw_fixturereported_from=create dw_fixturereported_from
this.st_23=create st_23
this.st_22=create st_22
this.dw_lcend_to=create dw_lcend_to
this.dw_lcend_from=create dw_lcend_from
this.st_21=create st_21
this.st_20=create st_20
this.st_19=create st_19
this.st_18=create st_18
this.dw_lcstart_from=create dw_lcstart_from
this.cb_16=create cb_16
this.cb_15=create cb_15
this.dw_rg_loadarea_by_id=create dw_rg_loadarea_by_id
this.st_15=create st_15
this.cb_14=create cb_14
this.cb_13=create cb_13
this.st_14=create st_14
this.dw_rg_dischargearea_by_id=create dw_rg_dischargearea_by_id
this.st_12=create st_12
this.dw_rg_grade_by_id=create dw_rg_grade_by_id
this.cb_11=create cb_11
this.st_11=create st_11
this.dw_rg_vessel_by_id=create dw_rg_vessel_by_id
this.cb_10=create cb_10
this.cb_8=create cb_8
this.dw_rg_owner_by_id=create dw_rg_owner_by_id
this.st_9=create st_9
this.cb_7=create cb_7
this.dw_rg_charterer_by_id=create dw_rg_charterer_by_id
this.st_8=create st_8
this.cb_6=create cb_6
this.dw_rg_broker_by_id=create dw_rg_broker_by_id
this.st_6=create st_6
this.st_5=create st_5
this.dw_rg_operator_by_id=create dw_rg_operator_by_id
this.cb_5=create cb_5
this.cb_4=create cb_4
this.dw_rg_trade_by_id=create dw_rg_trade_by_id
this.st_4=create st_4
this.st_3=create st_3
this.dw_rg_cargotype_by_id=create dw_rg_cargotype_by_id
this.cb_3=create cb_3
this.cb_2=create cb_2
this.dw_rg_status_by_id=create dw_rg_status_by_id
this.st_2=create st_2
this.cb_1=create cb_1
this.st_1=create st_1
this.dw_rg_printheader_by_id=create dw_rg_printheader_by_id
this.dw_lcstart_to=create dw_lcstart_to
this.sle_vesselage_to=create sle_vesselage_to
this.gb_1=create gb_1
this.dw_new=create dw_new
this.dw_rg_dischargeport_by_id=create dw_rg_dischargeport_by_id
this.st_17=create st_17
this.st_16=create st_16
this.dw_rg_loadport_by_id=create dw_rg_loadport_by_id
this.st_13=create st_13
this.mle_1=create mle_1
iCurrent=UpperBound(this.Control)
this.Control[iCurrent+1]=this.uo_pcgroup
this.Control[iCurrent+2]=this.st_30
this.Control[iCurrent+3]=this.st_28
this.Control[iCurrent+4]=this.pb_14
this.Control[iCurrent+5]=this.pb_13
this.Control[iCurrent+6]=this.pb_12
this.Control[iCurrent+7]=this.pb_11
this.Control[iCurrent+8]=this.pb_10
this.Control[iCurrent+9]=this.pb_9
this.Control[iCurrent+10]=this.pb_8
this.Control[iCurrent+11]=this.pb_7
this.Control[iCurrent+12]=this.pb_6
this.Control[iCurrent+13]=this.pb_5
this.Control[iCurrent+14]=this.pb_4
this.Control[iCurrent+15]=this.pb_3
this.Control[iCurrent+16]=this.pb_2
this.Control[iCurrent+17]=this.pb_1
this.Control[iCurrent+18]=this.cbx_template
this.Control[iCurrent+19]=this.cb_delete
this.Control[iCurrent+20]=this.cb_savechanges
this.Control[iCurrent+21]=this.dw_criteria
this.Control[iCurrent+22]=this.cb_create
this.Control[iCurrent+23]=this.sle_templatename
this.Control[iCurrent+24]=this.st_29
this.Control[iCurrent+25]=this.dw_template
this.Control[iCurrent+26]=this.cb_saveas
this.Control[iCurrent+27]=this.cb_generate
this.Control[iCurrent+28]=this.sle_vesselage_from
this.Control[iCurrent+29]=this.st_27
this.Control[iCurrent+30]=this.st_26
this.Control[iCurrent+31]=this.sle_cargosize_to
this.Control[iCurrent+32]=this.st_25
this.Control[iCurrent+33]=this.st_24
this.Control[iCurrent+34]=this.sle_cargosize_from
this.Control[iCurrent+35]=this.dw_fixturereported_to
this.Control[iCurrent+36]=this.dw_fixturereported_from
this.Control[iCurrent+37]=this.st_23
this.Control[iCurrent+38]=this.st_22
this.Control[iCurrent+39]=this.dw_lcend_to
this.Control[iCurrent+40]=this.dw_lcend_from
this.Control[iCurrent+41]=this.st_21
this.Control[iCurrent+42]=this.st_20
this.Control[iCurrent+43]=this.st_19
this.Control[iCurrent+44]=this.st_18
this.Control[iCurrent+45]=this.dw_lcstart_from
this.Control[iCurrent+46]=this.cb_16
this.Control[iCurrent+47]=this.cb_15
this.Control[iCurrent+48]=this.dw_rg_loadarea_by_id
this.Control[iCurrent+49]=this.st_15
this.Control[iCurrent+50]=this.cb_14
this.Control[iCurrent+51]=this.cb_13
this.Control[iCurrent+52]=this.st_14
this.Control[iCurrent+53]=this.dw_rg_dischargearea_by_id
this.Control[iCurrent+54]=this.st_12
this.Control[iCurrent+55]=this.dw_rg_grade_by_id
this.Control[iCurrent+56]=this.cb_11
this.Control[iCurrent+57]=this.st_11
this.Control[iCurrent+58]=this.dw_rg_vessel_by_id
this.Control[iCurrent+59]=this.cb_10
this.Control[iCurrent+60]=this.cb_8
this.Control[iCurrent+61]=this.dw_rg_owner_by_id
this.Control[iCurrent+62]=this.st_9
this.Control[iCurrent+63]=this.cb_7
this.Control[iCurrent+64]=this.dw_rg_charterer_by_id
this.Control[iCurrent+65]=this.st_8
this.Control[iCurrent+66]=this.cb_6
this.Control[iCurrent+67]=this.dw_rg_broker_by_id
this.Control[iCurrent+68]=this.st_6
this.Control[iCurrent+69]=this.st_5
this.Control[iCurrent+70]=this.dw_rg_operator_by_id
this.Control[iCurrent+71]=this.cb_5
this.Control[iCurrent+72]=this.cb_4
this.Control[iCurrent+73]=this.dw_rg_trade_by_id
this.Control[iCurrent+74]=this.st_4
this.Control[iCurrent+75]=this.st_3
this.Control[iCurrent+76]=this.dw_rg_cargotype_by_id
this.Control[iCurrent+77]=this.cb_3
this.Control[iCurrent+78]=this.cb_2
this.Control[iCurrent+79]=this.dw_rg_status_by_id
this.Control[iCurrent+80]=this.st_2
this.Control[iCurrent+81]=this.cb_1
this.Control[iCurrent+82]=this.st_1
this.Control[iCurrent+83]=this.dw_rg_printheader_by_id
this.Control[iCurrent+84]=this.dw_lcstart_to
this.Control[iCurrent+85]=this.sle_vesselage_to
this.Control[iCurrent+86]=this.gb_1
this.Control[iCurrent+87]=this.dw_new
this.Control[iCurrent+88]=this.dw_rg_dischargeport_by_id
this.Control[iCurrent+89]=this.st_17
this.Control[iCurrent+90]=this.st_16
this.Control[iCurrent+91]=this.dw_rg_loadport_by_id
this.Control[iCurrent+92]=this.st_13
this.Control[iCurrent+93]=this.mle_1
end on

on w_rg_main.destroy
call super::destroy
destroy(this.uo_pcgroup)
destroy(this.st_30)
destroy(this.st_28)
destroy(this.pb_14)
destroy(this.pb_13)
destroy(this.pb_12)
destroy(this.pb_11)
destroy(this.pb_10)
destroy(this.pb_9)
destroy(this.pb_8)
destroy(this.pb_7)
destroy(this.pb_6)
destroy(this.pb_5)
destroy(this.pb_4)
destroy(this.pb_3)
destroy(this.pb_2)
destroy(this.pb_1)
destroy(this.cbx_template)
destroy(this.cb_delete)
destroy(this.cb_savechanges)
destroy(this.dw_criteria)
destroy(this.cb_create)
destroy(this.sle_templatename)
destroy(this.st_29)
destroy(this.dw_template)
destroy(this.cb_saveas)
destroy(this.cb_generate)
destroy(this.sle_vesselage_from)
destroy(this.st_27)
destroy(this.st_26)
destroy(this.sle_cargosize_to)
destroy(this.st_25)
destroy(this.st_24)
destroy(this.sle_cargosize_from)
destroy(this.dw_fixturereported_to)
destroy(this.dw_fixturereported_from)
destroy(this.st_23)
destroy(this.st_22)
destroy(this.dw_lcend_to)
destroy(this.dw_lcend_from)
destroy(this.st_21)
destroy(this.st_20)
destroy(this.st_19)
destroy(this.st_18)
destroy(this.dw_lcstart_from)
destroy(this.cb_16)
destroy(this.cb_15)
destroy(this.dw_rg_loadarea_by_id)
destroy(this.st_15)
destroy(this.cb_14)
destroy(this.cb_13)
destroy(this.st_14)
destroy(this.dw_rg_dischargearea_by_id)
destroy(this.st_12)
destroy(this.dw_rg_grade_by_id)
destroy(this.cb_11)
destroy(this.st_11)
destroy(this.dw_rg_vessel_by_id)
destroy(this.cb_10)
destroy(this.cb_8)
destroy(this.dw_rg_owner_by_id)
destroy(this.st_9)
destroy(this.cb_7)
destroy(this.dw_rg_charterer_by_id)
destroy(this.st_8)
destroy(this.cb_6)
destroy(this.dw_rg_broker_by_id)
destroy(this.st_6)
destroy(this.st_5)
destroy(this.dw_rg_operator_by_id)
destroy(this.cb_5)
destroy(this.cb_4)
destroy(this.dw_rg_trade_by_id)
destroy(this.st_4)
destroy(this.st_3)
destroy(this.dw_rg_cargotype_by_id)
destroy(this.cb_3)
destroy(this.cb_2)
destroy(this.dw_rg_status_by_id)
destroy(this.st_2)
destroy(this.cb_1)
destroy(this.st_1)
destroy(this.dw_rg_printheader_by_id)
destroy(this.dw_lcstart_to)
destroy(this.sle_vesselage_to)
destroy(this.gb_1)
destroy(this.dw_new)
destroy(this.dw_rg_dischargeport_by_id)
destroy(this.st_17)
destroy(this.st_16)
destroy(this.dw_rg_loadport_by_id)
destroy(this.st_13)
destroy(this.mle_1)
end on

event open;ii_pcgroup=uo_pcgroup.uf_getpcgroup( )

if ii_pcgroup<0 then
	this.Post Event ue_postopen()
else

	dw_template.settransobject(SQLCA)
	dw_template.retrieve(ii_pcgroup)
	//set initial date
	dw_lcstart_from.insertRow(0)
	dw_lcstart_to.insertRow(0)
	dw_lcend_from.insertRow(0)
	dw_lcend_to.insertRow(0)
	dw_fixturereported_from.insertRow(0)
	dw_fixturereported_to.insertRow(0)

end if
end event

event ue_pcgroupchanged;call super::ue_pcgroupchanged;ii_pcgroup=ai_pcgroupid

if ii_pcgroup > 0 then
	dw_template.settransobject(SQLCA)
	dw_template.retrieve(ii_pcgroup)
end if

//clear filters
dw_rg_vessel_by_id.reset( )
dw_rg_trade_by_id.reset( )
dw_rg_grade_by_id.reset( )

dw_rg_owner_by_id.reset( )
dw_rg_charterer_by_id.reset( )
dw_rg_broker_by_id.reset( )
dw_rg_operator_by_id.reset( )

return 0
end event

type uo_pcgroup from u_pcgroup within w_rg_main
integer x = 18
integer y = 16
integer taborder = 20
end type

on uo_pcgroup.destroy
call u_pcgroup::destroy
end on

type st_30 from statictext within w_rg_main
integer x = 1746
integer y = 608
integer width = 398
integer height = 56
integer textsize = -7
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "(Competitor Vessels)"
boolean focusrectangle = false
end type

type st_28 from statictext within w_rg_main
integer x = 1033
integer y = 612
integer width = 416
integer height = 48
integer textsize = -7
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "(Competitor Vessels)"
boolean focusrectangle = false
end type

type pb_14 from picturebutton within w_rg_main
integer x = 2775
integer y = 1300
integer width = 110
integer height = 100
integer taborder = 470
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
string picturename = "Clear!"
alignment htextalign = left!
end type

event clicked;dw_rg_dischargeport_by_id.reset( )
end event

type pb_13 from picturebutton within w_rg_main
integer x = 2053
integer y = 1300
integer width = 110
integer height = 100
integer taborder = 460
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
string picturename = "Clear!"
alignment htextalign = left!
end type

event clicked;dw_rg_loadport_by_id.reset( )

end event

type pb_12 from picturebutton within w_rg_main
integer x = 1335
integer y = 1300
integer width = 110
integer height = 100
integer taborder = 450
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
string picturename = "Clear!"
alignment htextalign = left!
end type

event clicked;dw_rg_dischargearea_by_id.reset( )

end event

type pb_11 from picturebutton within w_rg_main
integer x = 613
integer y = 1300
integer width = 110
integer height = 100
integer taborder = 440
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
string picturename = "Clear!"
alignment htextalign = left!
end type

event clicked;dw_rg_loadarea_by_id.reset( )

end event

type pb_10 from picturebutton within w_rg_main
integer x = 3493
integer y = 892
integer width = 110
integer height = 100
integer taborder = 330
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
string picturename = "Clear!"
alignment htextalign = left!
end type

event clicked;
dw_rg_grade_by_id.reset( )

end event

type pb_9 from picturebutton within w_rg_main
integer x = 2775
integer y = 892
integer width = 110
integer height = 100
integer taborder = 320
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
string picturename = "Clear!"
alignment htextalign = left!
end type

event clicked;dw_rg_charterer_by_id.reset( )

end event

type pb_8 from picturebutton within w_rg_main
integer x = 2053
integer y = 892
integer width = 110
integer height = 100
integer taborder = 290
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
string picturename = "Clear!"
alignment htextalign = left!
end type

event clicked;dw_rg_owner_by_id.reset( )

end event

type pb_7 from picturebutton within w_rg_main
integer x = 1335
integer y = 892
integer width = 110
integer height = 100
integer taborder = 230
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
string picturename = "Clear!"
alignment htextalign = left!
end type

event clicked;dw_rg_operator_by_id.reset( )


end event

type pb_6 from picturebutton within w_rg_main
integer x = 613
integer y = 892
integer width = 110
integer height = 100
integer taborder = 460
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
string picturename = "Clear!"
alignment htextalign = left!
end type

event clicked;dw_rg_broker_by_id.reset( )


end event

type pb_5 from picturebutton within w_rg_main
integer x = 3493
integer y = 492
integer width = 110
integer height = 100
integer taborder = 320
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
string picturename = "Clear!"
alignment htextalign = left!
end type

event clicked;dw_rg_vessel_by_id.reset( )


end event

type pb_4 from picturebutton within w_rg_main
integer x = 2779
integer y = 492
integer width = 110
integer height = 100
integer taborder = 290
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
string picturename = "Clear!"
alignment htextalign = left!
end type

event clicked;dw_rg_trade_by_id.reset( )

end event

type pb_3 from picturebutton within w_rg_main
integer x = 2053
integer y = 492
integer width = 110
integer height = 100
integer taborder = 230
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
string picturename = "Clear!"
alignment htextalign = left!
end type

event clicked;dw_rg_cargotype_by_id.reset( )

end event

type pb_2 from picturebutton within w_rg_main
integer x = 1335
integer y = 492
integer width = 110
integer height = 100
integer taborder = 450
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
string picturename = "Clear!"
alignment htextalign = left!
end type

event clicked;dw_rg_status_by_id.reset( )

end event

type pb_1 from picturebutton within w_rg_main
integer x = 613
integer y = 492
integer width = 110
integer height = 100
integer taborder = 450
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
string picturename = "Clear!"
alignment htextalign = left!
end type

event clicked;dw_rg_printheader_by_id.reset( )

end event

type cbx_template from mt_u_checkbox within w_rg_main
integer x = 3712
integer y = 1152
integer width = 581
integer textsize = -8
string facename = "Arial"
string text = "View my templates"
end type

event clicked;call super::clicked;String				ls_filter, ls_userid
long				ll_contactsid

ls_userid = uo_global.is_userid

SELECT CONTACTSID
INTO :ll_contactsid
FROM PF_COMPANYCONTACTS
WHERE USERNAME = :ls_userid
;

dw_template.setredraw(false)

if cbx_template.checked = true then
	ls_filter = "contactsid = " + string(ll_contactsid)
else
	ls_filter = ""
end if

dw_template.setfilter(ls_filter)
dw_template.filter()
dw_template.setredraw(true)
end event

type cb_delete from mt_u_commandbutton within w_rg_main
integer x = 4741
integer y = 1144
integer width = 265
integer height = 92
integer taborder = 520
string facename = "Arial"
boolean enabled = false
string text = "&Delete"
end type

event clicked;call super::clicked;long	ll_row, ll_reportgtemplateid

ll_row = dw_template.getRow()
if ll_row < 1 then return


if MessageBox("Confirmation", "Are you sure you you want to delete the template?", question!, YesNo!,2) = 1 then 
	ll_reportgtemplateid = dw_template.getitemnumber(ll_row, "reportgtemplateid")
	if dw_template.deleterow(ll_row) = 1 then
		DELETE 
		FROM PF_REPORTGCRITERIA
		WHERE REPORTGTEMPLATEID = :ll_reportgtemplateid
		;
		dw_template.update( )
		commit;	
		dw_template.retrieve(ii_pcgroup)
		return 1
	else
		MessageBox("Delete Error", "Error deleting template.")
		return -1
	end if
end if

end event

type cb_savechanges from mt_u_commandbutton within w_rg_main
integer x = 4311
integer y = 1144
integer width = 430
integer height = 92
integer taborder = 530
string facename = "Arial"
boolean enabled = false
string text = "&Save Changes"
end type

event clicked;call super::clicked;uf_changetemplate(dw_rg_printheader_by_id,"Print Headers",il_reportgtemplateid)
uf_changetemplate(dw_rg_status_by_id,"Fixture Status",il_reportgtemplateid)
uf_changetemplate(dw_rg_cargotype_by_id,"Cargo Type",il_reportgtemplateid)
uf_changetemplate(dw_rg_trade_by_id,"Trade",il_reportgtemplateid)
uf_changetemplate(dw_rg_owner_by_id,"Owner",il_reportgtemplateid)
uf_changetemplate(dw_rg_charterer_by_id,"Charterer",il_reportgtemplateid)
uf_changetemplate(dw_rg_broker_by_id,"Broker",il_reportgtemplateid)
uf_changetemplate(dw_rg_operator_by_id,"Operator",il_reportgtemplateid)
uf_changetemplate(dw_rg_vessel_by_id,"Vessel",il_reportgtemplateid)
uf_changetemplate(dw_rg_grade_by_id,"Grade",il_reportgtemplateid)
uf_changetemplate(dw_rg_loadarea_by_id,"Load Area",il_reportgtemplateid)
uf_changetemplate(dw_rg_dischargearea_by_id,"Discharge Area",il_reportgtemplateid)
uf_changetemplate(dw_rg_loadport_by_id,"Load Port",il_reportgtemplateid)
uf_changetemplate(dw_rg_dischargeport_by_id,"Discharge Port",il_reportgtemplateid)
uf_createtemplate_date(dw_lcstart_from,"FromLCStart",il_reportgtemplateid)
uf_createtemplate_date(dw_lcstart_to,"ToLCStart",il_reportgtemplateid)
uf_createtemplate_date(dw_lcend_from,"FromLCEnd",il_reportgtemplateid)
uf_createtemplate_date(dw_lcend_to,"ToLCEnd",il_reportgtemplateid)
uf_createtemplate_date(dw_fixturereported_from,"FromFixture",il_reportgtemplateid)
uf_createtemplate_date(dw_fixturereported_to,"ToFixture",il_reportgtemplateid)
uf_createtemplate_text(sle_cargosize_from,"FromCargoSize",il_reportgtemplateid)
uf_createtemplate_text(sle_cargosize_to,"ToCargoSize",il_reportgtemplateid)
end event

type dw_criteria from datawindow within w_rg_main
boolean visible = false
integer x = 187
integer y = 1532
integer width = 686
integer height = 400
integer taborder = 490
string title = "none"
string dataobject = "d_rg_criteria"
boolean hscrollbar = true
boolean vscrollbar = true
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type cb_create from mt_u_commandbutton within w_rg_main
integer x = 4741
integer y = 1268
integer width = 265
integer height = 92
integer taborder = 500
string facename = "Arial"
string text = "&Create"
end type

event clicked;call super::clicked;int			li_i, li_j
string		ls_userid,ls_value
long		ll_reportgtemplateid, ll_contactsid

if sle_templatename.text = "" then
	messagebox("Valication","Please input a template name.")
	sle_templatename.setfocus()
	return
end if

ls_userid = uo_global.is_userid

SELECT CONTACTSID
INTO :ll_contactsid
FROM PF_COMPANYCONTACTS
WHERE USERNAME = :ls_userid
;

INSERT INTO PF_REPORTGTEMPLATE (NAME,PCGROUP_ID,CONTACTSID)
VALUES (:sle_templatename.text,:ii_pcgroup,:ll_contactsid)
;

SELECT MAX(REPORTGTEMPLATEID)
INTO :ll_reportgtemplateid
FROM PF_REPORTGTEMPLATE
;

uf_createtemplate(dw_rg_printheader_by_id,"Print Headers",ll_reportgtemplateid)
uf_createtemplate(dw_rg_status_by_id,"Fixture Status",ll_reportgtemplateid)
uf_createtemplate(dw_rg_cargotype_by_id,"Cargo Type",ll_reportgtemplateid)
uf_createtemplate(dw_rg_trade_by_id,"Trade",ll_reportgtemplateid)
uf_createtemplate(dw_rg_owner_by_id,"Owner",ll_reportgtemplateid)
uf_createtemplate(dw_rg_charterer_by_id,"Charterer",ll_reportgtemplateid)
uf_createtemplate(dw_rg_broker_by_id,"Broker",ll_reportgtemplateid)
uf_createtemplate(dw_rg_operator_by_id,"Operator",ll_reportgtemplateid)
uf_createtemplate(dw_rg_vessel_by_id,"Vessel",ll_reportgtemplateid)
uf_createtemplate(dw_rg_grade_by_id,"Grade",ll_reportgtemplateid)
uf_createtemplate(dw_rg_loadarea_by_id,"Load Area",ll_reportgtemplateid)
uf_createtemplate(dw_rg_dischargearea_by_id,"Discharge Area",ll_reportgtemplateid)
uf_createtemplate(dw_rg_loadport_by_id,"Load Port",ll_reportgtemplateid)
uf_createtemplate(dw_rg_dischargeport_by_id,"Discharge Port",ll_reportgtemplateid)
uf_createtemplate_date(dw_lcstart_from,"FromLCStart",ll_reportgtemplateid)
uf_createtemplate_date(dw_lcstart_to,"ToLCStart",ll_reportgtemplateid)
uf_createtemplate_date(dw_lcend_from,"FromLCEnd",ll_reportgtemplateid)
uf_createtemplate_date(dw_lcend_to,"ToLCEnd",ll_reportgtemplateid)
uf_createtemplate_date(dw_fixturereported_from,"FromFixture",ll_reportgtemplateid)
uf_createtemplate_date(dw_fixturereported_to,"ToFixture",ll_reportgtemplateid)
uf_createtemplate_text(sle_cargosize_from,"FromCargoSize",ll_reportgtemplateid)
uf_createtemplate_text(sle_cargosize_to,"ToCargoSize",ll_reportgtemplateid)

dw_template.retrieve(ii_pcgroup)

end event

type sle_templatename from mt_u_singlelineedit within w_rg_main
integer x = 4050
integer y = 1272
integer width = 663
integer height = 88
integer taborder = 170
string text = ""
end type

type st_29 from mt_u_statictext within w_rg_main
integer x = 3712
integer y = 1288
integer width = 357
integer height = 56
string facename = "Arial"
string text = "New Template:"
end type

type dw_template from datawindow within w_rg_main
integer x = 3707
integer y = 204
integer width = 1298
integer height = 920
integer taborder = 240
string title = "none"
string dataobject = "d_rg_template"
boolean hscrollbar = true
boolean vscrollbar = true
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

event clicked;//long		ll_reportgtemplateid
int			li_i
long		ll_ids[],  ll_empty[]
string		ls_name, ls_portcode[], ls_empty[]
integer 	li_i1

cb_savechanges.enabled = true
cb_delete.enabled = true

if row > 0 then
	selectrow(0, false)
	selectrow(row, true)	
	il_reportgtemplateid = this.getItemNumber(row, "reportgtemplateid")
end if

if il_reportgtemplateid <> 0 then
	dw_criteria.settransobject(SQLCA)
	dw_criteria.retrieve(il_reportgtemplateid)
end if

dw_rg_printheader_by_id.settransobject( SQLCA)
dw_rg_status_by_id.settransobject( SQLCA)
dw_rg_cargotype_by_id.settransobject( SQLCA)
dw_rg_trade_by_id.settransobject( SQLCA)
dw_rg_owner_by_id.settransobject( SQLCA)
dw_rg_charterer_by_id.settransobject( SQLCA)
dw_rg_broker_by_id.settransobject( SQLCA)
dw_rg_operator_by_id.settransobject( SQLCA)
dw_rg_vessel_by_id.settransobject( SQLCA)
dw_rg_grade_by_id.settransobject( SQLCA)
dw_rg_loadarea_by_id.settransobject( SQLCA)
dw_rg_dischargearea_by_id.settransobject( SQLCA)
dw_rg_loadport_by_id.settransobject( SQLCA)
dw_rg_dischargeport_by_id.settransobject( SQLCA)
dw_lcstart_from.settransobject( SQLCA)
dw_lcstart_to.settransobject( SQLCA)
dw_lcend_from.settransobject( SQLCA)
dw_lcend_to.settransobject( SQLCA)
dw_fixturereported_from.settransobject( SQLCA)
dw_fixturereported_to.settransobject( SQLCA)

dw_rg_printheader_by_id.reset( )
dw_rg_status_by_id.reset( )
dw_rg_cargotype_by_id.reset( )
dw_rg_trade_by_id.reset( )
dw_rg_owner_by_id.reset( )
dw_rg_charterer_by_id.reset( )
dw_rg_broker_by_id.reset( )
dw_rg_operator_by_id.reset( )
dw_rg_vessel_by_id.reset( )
dw_rg_grade_by_id.reset( )
dw_rg_loadarea_by_id.reset( )
dw_rg_dischargearea_by_id.reset( )
dw_rg_loadport_by_id.reset( )
dw_rg_dischargeport_by_id.reset( )
dw_lcstart_from.reset()
dw_lcstart_to.reset()
dw_lcend_from.reset()
dw_lcend_to.reset()
dw_fixturereported_from.reset()
dw_fixturereported_to.reset()
dw_lcstart_from.insertRow(0)
dw_lcstart_to.insertRow(0)
dw_lcend_from.insertRow(0)
dw_lcend_to.insertRow(0)
dw_fixturereported_from.insertRow(0)
dw_fixturereported_to.insertRow(0)
sle_cargosize_from.text = ""
sle_cargosize_to.text = ""


for li_i = 1 to dw_criteria.rowcount( )
	ll_ids[] = ll_empty[]
	ls_portcode[] = ls_empty[]
	ls_name = dw_criteria.getitemstring( li_i, "name")
	if  ls_name = "Print Headers" then
		f_split_int(ll_ids[],dw_criteria.getitemstring( li_i, "Ids"),";")
		dw_rg_printheader_by_id.retrieve(ll_ids[])
	elseif  ls_name = "Fixture Status" then
		f_split_int(ll_ids[],dw_criteria.getitemstring( li_i, "Ids"),";")
		dw_rg_status_by_id.retrieve(ll_ids[])
	elseif  ls_name = "Cargo Type" then
		f_split_int(ll_ids[],dw_criteria.getitemstring( li_i, "Ids"),";")
		dw_rg_cargotype_by_id.retrieve(ll_ids[])
	elseif  ls_name = "Owner" then
		f_split_int(ll_ids[],dw_criteria.getitemstring( li_i, "Ids"),";")
		dw_rg_owner_by_id.retrieve(ii_pcgroup,ll_ids[])
	elseif  ls_name = "Broker" then
		f_split_int(ll_ids[],dw_criteria.getitemstring( li_i, "Ids"),";")
		dw_rg_broker_by_id.retrieve(ii_pcgroup,ll_ids[])
	elseif  ls_name = "Trade" then
		f_split_int(ll_ids[],dw_criteria.getitemstring( li_i, "Ids"),";")
		dw_rg_trade_by_id.retrieve(ii_pcgroup,ll_ids[])
	elseif  ls_name = "Operator" then
		f_split_int(ll_ids[],dw_criteria.getitemstring( li_i, "Ids"),";")
		dw_rg_operator_by_id.retrieve(ii_pcgroup,ll_ids[])
	elseif  ls_name = "Vessel" then
		f_split(ls_portcode[],dw_criteria.getitemstring( li_i, "Ids"),";")
		//clear array
		for li_i1 = 1 to UpperBound(ll_ids)
			ll_ids[li_i1]=0
		next
		
		for li_i1 = 1 to UpperBound(ls_portcode)
			ll_ids[li_i1]=long(ls_portcode[li_i1])
		next
		//f_split(ls_portcode[],long(dw_criteria.getitemstring( li_i, "Ids")),";")
		dw_rg_vessel_by_id.retrieve(ii_pcgroup,ll_ids[])
	elseif  ls_name = "Charterer" then
		f_split_int(ll_ids[],dw_criteria.getitemstring( li_i, "Ids"),";")
		dw_rg_charterer_by_id.retrieve(ii_pcgroup,ll_ids[])
	elseif  ls_name = "Grade" then
		f_split_int(ll_ids[],dw_criteria.getitemstring( li_i, "Ids"),";")
		dw_rg_grade_by_id.retrieve(ii_pcgroup,ll_ids[])
	elseif  ls_name = "Load Area" then
		f_split_int(ll_ids[],dw_criteria.getitemstring( li_i, "Ids"),";")
		dw_rg_loadarea_by_id.retrieve(ll_ids[])
	elseif  ls_name = "Discharge Area" then
		f_split_int(ll_ids[],dw_criteria.getitemstring( li_i, "Ids"),";")
		dw_rg_dischargearea_by_id.retrieve(ll_ids[])
	elseif  ls_name = "Load Port" then
		f_split(ls_portcode[],dw_criteria.getitemstring( li_i, "Ids"),";")
		dw_rg_loadport_by_id.retrieve(ls_portcode[])
	elseif  ls_name = "Discharge Port" then
		f_split(ls_portcode[],dw_criteria.getitemstring( li_i, "Ids"),";")
		dw_rg_dischargeport_by_id.retrieve(ls_portcode[])
	elseif  ls_name = "FromLCStart" and dw_criteria.getitemstring( li_i, "Ids") <> "" then
		dw_lcstart_from.setitem(1, "date_value", date(dw_criteria.getitemstring( li_i, "Ids")))
	elseif  ls_name = "ToLCStart" and dw_criteria.getitemstring( li_i, "Ids") <> "" then
		dw_lcstart_to.setitem(1, "date_value", date(dw_criteria.getitemstring( li_i, "Ids")))
	elseif  ls_name = "FromLCEnd" and dw_criteria.getitemstring( li_i, "Ids") <> "" then
		dw_lcend_from.setitem(1, "date_value", date(dw_criteria.getitemstring( li_i, "Ids")))
	elseif  ls_name = "ToLCEnd" and dw_criteria.getitemstring( li_i, "Ids") <> "" then
		dw_lcend_to.setitem(1, "date_value", date(dw_criteria.getitemstring( li_i, "Ids")))
	elseif  ls_name = "FromFixture" and dw_criteria.getitemstring( li_i, "Ids") <> "" then
		dw_fixturereported_from.setitem(1, "date_value", date(dw_criteria.getitemstring( li_i, "Ids")))
	elseif  ls_name = "ToFixture" and dw_criteria.getitemstring( li_i, "Ids") <> "" then
		dw_fixturereported_to.setitem(1, "date_value", date(dw_criteria.getitemstring( li_i, "Ids")))
	elseif  ls_name = "FromCargoSize" and dw_criteria.getitemstring( li_i, "Ids") <> "" then
		sle_cargosize_from.text = dw_criteria.getitemstring( li_i, "Ids")
	elseif  ls_name = "ToCargoSize" and dw_criteria.getitemstring( li_i, "Ids") <> "" then
		sle_cargosize_to.text = dw_criteria.getitemstring( li_i, "Ids")
	end if
next




end event

type cb_saveas from mt_u_commandbutton within w_rg_main
integer x = 2994
integer y = 1192
integer width = 421
integer height = 92
integer taborder = 470
string facename = "Arial"
boolean enabled = false
string text = "&Save As..."
end type

event clicked;dw_new.saveas()

end event

type cb_generate from commandbutton within w_rg_main
integer x = 2990
integer y = 1080
integer width = 430
integer height = 92
integer taborder = 320
integer textsize = -9
integer weight = 400
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "MS Sans Serif"
string text = "&Generate"
end type

event clicked;string 	ls_sql_syntax, ls_style, ls_dw_syntax, ls_dw_err

if dw_rg_printheader_by_id.rowcount( ) = 0 then
	MessageBox("Valication!", "Please select print headers.")
	Return
end if

mle_1.text = wf_build_sql_syntax()

// Recreate the DW from the syntax; first, be sure there's something there.
if mle_1.text = "" then
	MessageBox("Sorry!", "No Syntax Exists. Enter valid SQL or " &
	+ "DataWindow Syntax or Select Table and Columns and then click Create")
	Return
end if

// Construct the style options
ls_style = "style(type=grid)"

// Create a datawindow from the MLE. If it displays SQL Syntax, then build
// datawindow from SQL syntax. 
ls_sql_syntax = mle_1.text
ls_dw_err = ""
ls_dw_syntax = SyntaxFromSQL(sqlca, ls_sql_syntax, ls_style, ls_dw_err)
If ls_dw_err <> "" Then
	MessageBox("Sorry!", ls_dw_err)
	Return
End If

dw_new.Create(ls_dw_syntax)

dw_new.Modify("DataWindow.Detail.Color= '536870912~tif(mod(getrow(), 2)=0, rgb(224,255,255),rgb(255,255,255))'")
dw_new.Modify("DataWindow.Header.Color= '80269542'")
dw_new.Modify("DataWindow.Header.Height='60'")

//Retrieve into the new datawindow
dw_new.SetTransObject(sqlca)
dw_new.Retrieve( )
commit;

if dw_new.rowcount( ) > 0 then
	cb_saveas.enabled = true
else
	cb_saveas.enabled = false
end if

end event

type sle_vesselage_from from mt_u_singlelineedit within w_rg_main
boolean visible = false
integer x = 3205
integer y = 84
integer width = 174
integer height = 88
integer taborder = 100
string text = ""
end type

type st_27 from statictext within w_rg_main
boolean visible = false
integer x = 3387
integer y = 92
integer width = 55
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "-"
boolean focusrectangle = false
end type

type st_26 from statictext within w_rg_main
boolean visible = false
integer x = 3205
integer y = 20
integer width = 361
integer height = 64
integer textsize = -8
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "Vessel Age"
boolean focusrectangle = false
end type

type sle_cargosize_to from mt_u_singlelineedit within w_rg_main
integer x = 2990
integer y = 84
integer width = 183
integer height = 88
integer taborder = 90
string text = ""
end type

type st_25 from statictext within w_rg_main
integer x = 2953
integer y = 92
integer width = 55
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "-"
boolean focusrectangle = false
end type

type st_24 from statictext within w_rg_main
integer x = 2770
integer y = 20
integer width = 361
integer height = 64
integer textsize = -8
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "Cargo Size"
boolean focusrectangle = false
end type

type sle_cargosize_from from mt_u_singlelineedit within w_rg_main
integer x = 2766
integer y = 84
integer width = 174
integer height = 88
integer taborder = 80
string text = ""
end type

type dw_fixturereported_to from datawindow within w_rg_main
integer x = 2432
integer y = 84
integer width = 302
integer height = 92
integer taborder = 70
boolean bringtotop = true
string title = "none"
string dataobject = "d_date"
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type dw_fixturereported_from from datawindow within w_rg_main
integer x = 2094
integer y = 84
integer width = 302
integer height = 92
integer taborder = 60
string title = "none"
string dataobject = "d_date"
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type st_23 from statictext within w_rg_main
integer x = 2089
integer y = 20
integer width = 512
integer height = 64
integer textsize = -8
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "Fixture Reported"
boolean focusrectangle = false
end type

type st_22 from statictext within w_rg_main
integer x = 2400
integer y = 92
integer width = 55
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "-"
boolean focusrectangle = false
end type

type dw_lcend_to from datawindow within w_rg_main
integer x = 1765
integer y = 84
integer width = 302
integer height = 92
integer taborder = 50
boolean bringtotop = true
string title = "none"
string dataobject = "d_date"
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type dw_lcend_from from datawindow within w_rg_main
integer x = 1426
integer y = 84
integer width = 302
integer height = 92
integer taborder = 40
string title = "none"
string dataobject = "d_date"
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type st_21 from statictext within w_rg_main
integer x = 1422
integer y = 20
integer width = 288
integer height = 64
integer textsize = -8
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "LC End"
boolean focusrectangle = false
end type

type st_20 from statictext within w_rg_main
integer x = 1733
integer y = 92
integer width = 55
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "-"
boolean focusrectangle = false
end type

type st_19 from statictext within w_rg_main
integer x = 1065
integer y = 92
integer width = 55
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "-"
boolean focusrectangle = false
end type

type st_18 from statictext within w_rg_main
integer x = 759
integer y = 20
integer width = 288
integer height = 64
integer textsize = -8
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "LC Start"
boolean focusrectangle = false
end type

type dw_lcstart_from from datawindow within w_rg_main
integer x = 763
integer y = 84
integer width = 302
integer height = 92
integer taborder = 20
string title = "none"
string dataobject = "d_date"
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type cb_16 from mt_u_commandbutton within w_rg_main
integer x = 2185
integer y = 1300
integer width = 585
integer taborder = 330
string text = "Choose"
end type

event clicked;call super::clicked;int		li_i, li_number, li_j, li_k
string	li_empty[]

li_number = 16

is_rg.pcgroup = ii_pcgroup

if is_rg.number <> li_number then
	is_rg.name = li_empty
	is_rg.number = li_number
end if

if dw_rg_dischargeport_by_id.rowcount( ) > 0 then
	for li_j = 1 to dw_rg_dischargeport_by_id.rowcount( )
		li_k++
		is_rg.name[li_k] = dw_rg_dischargeport_by_id.getitemstring(li_j, "port_code")
	next
end if

openwithparm(w_rg_choose, is_rg)

is_rg = message.powerobjectparm

dw_rg_dischargeport_by_id.settransobject(SQLCA)
if upperbound(is_rg.name) <> 0 then
	dw_rg_dischargeport_by_id.retrieve(is_rg.name)
	for li_i = 1 to dw_rg_dischargeport_by_id.rowcount( )
		is_rg.name[li_i] = dw_rg_dischargeport_by_id.getitemstring( li_i, "port_code")
	next
else
	dw_rg_dischargeport_by_id.reset( )
	is_rg.name = li_empty
end if


end event

type cb_15 from mt_u_commandbutton within w_rg_main
integer x = 1463
integer y = 1300
integer width = 585
integer taborder = 270
string text = "Choose"
end type

event clicked;call super::clicked;int		li_i, li_number, li_j, li_k
string		li_empty[]

li_number = 15

is_rg.pcgroup = ii_pcgroup

if is_rg.number <> li_number then
	is_rg.name = li_empty
	is_rg.number = li_number
end if

if dw_rg_loadport_by_id.rowcount( ) > 0 then
	for li_j = 1 to dw_rg_loadport_by_id.rowcount( )
		li_k++
		is_rg.name[li_k] = dw_rg_loadport_by_id.getitemstring(li_j, "port_code")
	next
end if


openwithparm(w_rg_choose, is_rg)

is_rg = message.powerobjectparm

dw_rg_loadport_by_id.settransobject(SQLCA)
if upperbound(is_rg.name) <> 0 then
	dw_rg_loadport_by_id.retrieve(is_rg.name)
	for li_i = 1 to dw_rg_loadport_by_id.rowcount( )
		is_rg.name[li_i] = dw_rg_loadport_by_id.getitemstring( li_i, "port_code")
	next
else
	dw_rg_loadport_by_id.reset( )
	is_rg.name = li_empty
end if


end event

type dw_rg_loadarea_by_id from datawindow within w_rg_main
integer x = 23
integer y = 1072
integer width = 699
integer height = 216
integer taborder = 480
string title = "none"
string dataobject = "d_rg_area_by_id"
boolean vscrollbar = true
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type st_15 from statictext within w_rg_main
integer x = 23
integer y = 1008
integer width = 699
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "Load Area"
boolean focusrectangle = false
end type

type cb_14 from mt_u_commandbutton within w_rg_main
integer x = 23
integer y = 1300
integer width = 585
integer taborder = 250
string text = "Choose"
end type

event clicked;call super::clicked;int		li_i, li_empty[], li_number, li_j, li_k

li_number = 13

is_rg.pcgroup = ii_pcgroup

if is_rg.number <> li_number then
	is_rg.id = li_empty
	is_rg.number = li_number
end if

if dw_rg_loadarea_by_id.rowcount( ) > 0 then
	for li_j = 1 to dw_rg_loadarea_by_id.rowcount( )
		li_k++
		is_rg.id[li_k] = dw_rg_loadarea_by_id.getitemnumber(li_j, "id")
	next
end if

openwithparm(w_rg_choose, is_rg)

is_rg = message.powerobjectparm

dw_rg_loadarea_by_id.settransobject(SQLCA)
if upperbound(is_rg.id) <> 0 then
	dw_rg_loadarea_by_id.retrieve(is_rg.id)
	for li_i = 1 to dw_rg_loadarea_by_id.rowcount( )
		is_rg.id[li_i] = dw_rg_loadarea_by_id.getitemnumber( li_i, "id")
	next
else
	dw_rg_loadarea_by_id.reset( )
	is_rg.id = li_empty
end if


end event

type cb_13 from mt_u_commandbutton within w_rg_main
integer x = 745
integer y = 1300
integer width = 585
integer taborder = 340
string text = "Choose"
end type

event clicked;call super::clicked;int		li_i, li_empty[], li_number, li_j, li_k

li_number = 14

is_rg.pcgroup = ii_pcgroup


if is_rg.number <> li_number then
	is_rg.id = li_empty
	is_rg.number = li_number
end if

if dw_rg_dischargearea_by_id.rowcount( ) > 0 then
	for li_j = 1 to dw_rg_dischargearea_by_id.rowcount( )
		li_k++
		is_rg.id[li_k] = dw_rg_dischargearea_by_id.getitemnumber(li_j, "id")
	next
end if

openwithparm(w_rg_choose, is_rg)

is_rg = message.powerobjectparm

dw_rg_dischargearea_by_id.settransobject(SQLCA)
if upperbound(is_rg.id) <> 0 then
	dw_rg_dischargearea_by_id.retrieve(is_rg.id)
	for li_i = 1 to dw_rg_dischargearea_by_id.rowcount( )
		is_rg.id[li_i] = dw_rg_dischargearea_by_id.getitemnumber( li_i, "id")
	next
else
	dw_rg_dischargearea_by_id.reset( )
	is_rg.id = li_empty
end if


end event

type st_14 from statictext within w_rg_main
integer x = 745
integer y = 1008
integer width = 699
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "Discharge Area"
boolean focusrectangle = false
end type

type dw_rg_dischargearea_by_id from datawindow within w_rg_main
integer x = 745
integer y = 1072
integer width = 699
integer height = 216
integer taborder = 200
string title = "none"
string dataobject = "d_rg_area_by_id"
boolean vscrollbar = true
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type st_12 from statictext within w_rg_main
integer x = 2903
integer y = 596
integer width = 699
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "Grade"
boolean focusrectangle = false
end type

type dw_rg_grade_by_id from datawindow within w_rg_main
integer x = 2903
integer y = 664
integer width = 699
integer height = 216
integer taborder = 390
string title = "none"
string dataobject = "d_rg_grade_by_id"
boolean vscrollbar = true
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type cb_11 from mt_u_commandbutton within w_rg_main
integer x = 2903
integer y = 892
integer width = 585
integer taborder = 430
string text = "Choose"
end type

event clicked;call super::clicked;int		li_i, li_empty[], li_number, li_j, li_k

li_number = 11

is_rg.pcgroup = ii_pcgroup

if is_rg.number <> li_number then
	is_rg.id = li_empty
	is_rg.number = li_number
end if

if dw_rg_grade_by_id.rowcount( ) > 0 then
	for li_j = 1 to dw_rg_grade_by_id.rowcount( )
		li_k++
		is_rg.id[li_k] = dw_rg_grade_by_id.getitemnumber(li_j, "id")
	next
end if

openwithparm(w_rg_choose, is_rg)

is_rg = message.powerobjectparm

dw_rg_grade_by_id.settransobject(SQLCA)
if upperbound(is_rg.id) <> 0 then
	dw_rg_grade_by_id.retrieve(ii_pcgroup,is_rg.id)
	for li_i = 1 to dw_rg_grade_by_id.rowcount( )
		is_rg.id[li_i] = dw_rg_grade_by_id.getitemnumber( li_i, "id")
	next
else
	dw_rg_grade_by_id.reset( )
	is_rg.id = li_empty
end if


end event

type st_11 from statictext within w_rg_main
integer x = 2903
integer y = 196
integer width = 699
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "Vessel"
boolean focusrectangle = false
end type

type dw_rg_vessel_by_id from datawindow within w_rg_main
integer x = 2903
integer y = 264
integer width = 699
integer height = 216
integer taborder = 350
string title = "none"
string dataobject = "d_rg_vessel_by_id"
boolean vscrollbar = true
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type cb_10 from mt_u_commandbutton within w_rg_main
integer x = 2903
integer y = 492
integer width = 585
integer taborder = 440
string text = "Choose"
end type

event clicked;call super::clicked;int		li_i, li_empty[], li_number, li_j, li_k

li_number = 9

is_rg.pcgroup = ii_pcgroup


if is_rg.number <> li_number then
	is_rg.id = li_empty
	is_rg.number = li_number
end if

if dw_rg_vessel_by_id.rowcount( ) > 0 then
	for li_j = 1 to dw_rg_vessel_by_id.rowcount( )
		li_k++
		is_rg.id[li_k] = dw_rg_vessel_by_id.getitemnumber(li_j, "id")
	next
else
	dw_rg_vessel_by_id.reset( )
end if

openwithparm(w_rg_choose, is_rg)

is_rg = message.powerobjectparm

dw_rg_vessel_by_id.settransobject(SQLCA)
if upperbound(is_rg.id) <> 0 then
	dw_rg_vessel_by_id.retrieve(ii_pcgroup,is_rg.id)
	for li_i = 1 to dw_rg_vessel_by_id.rowcount( )
		is_rg.id[li_i] = dw_rg_vessel_by_id.getitemnumber( li_i, "id")
	next
else
	dw_rg_vessel_by_id.reset( )
	is_rg.id = li_empty
end if
end event

type cb_8 from mt_u_commandbutton within w_rg_main
integer x = 1463
integer y = 892
integer width = 585
integer taborder = 450
string text = "Choose"
end type

event clicked;call super::clicked;int		li_i, li_number, li_j, li_k
long 	li_empty[]

li_number = 5

is_rg.pcgroup = ii_pcgroup

if is_rg.number <> li_number then
	is_rg.id = li_empty
	is_rg.number = li_number
end if

if dw_rg_owner_by_id.rowcount( ) > 0 then
	for li_j = 1 to dw_rg_owner_by_id.rowcount( )
		li_k++
		is_rg.id[li_k] = dw_rg_owner_by_id.getitemnumber(li_j, "id")
	next
else
	dw_rg_owner_by_id.reset( )
end if

openwithparm(w_rg_choose, is_rg)

is_rg = message.powerobjectparm

dw_rg_owner_by_id.settransobject(SQLCA)
if upperbound(is_rg.id) <> 0 then
	dw_rg_owner_by_id.retrieve(ii_pcgroup,is_rg.id)
	for li_i = 1 to dw_rg_owner_by_id.rowcount( )
		is_rg.id[li_i] = dw_rg_owner_by_id.getitemnumber( li_i, "id")
	next
else
	dw_rg_owner_by_id.reset( )
	is_rg.id = li_empty
end if


end event

type dw_rg_owner_by_id from datawindow within w_rg_main
integer x = 1463
integer y = 664
integer width = 699
integer height = 216
integer taborder = 400
string title = "none"
string dataobject = "d_rg_user_by_id"
boolean vscrollbar = true
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type st_9 from statictext within w_rg_main
integer x = 1463
integer y = 596
integer width = 699
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "Owner"
boolean focusrectangle = false
end type

type cb_7 from mt_u_commandbutton within w_rg_main
integer x = 2185
integer y = 892
integer width = 585
integer taborder = 410
string text = "Choose"
end type

event clicked;call super::clicked;int		li_i, li_number, li_j, li_k
long	li_empty[]

li_number = 6

is_rg.pcgroup = ii_pcgroup


if is_rg.number <> li_number then
	is_rg.id = li_empty
	is_rg.number = li_number
end if

if dw_rg_charterer_by_id.rowcount( ) > 0 then
	for li_j = 1 to dw_rg_charterer_by_id.rowcount( )
		li_k++
		is_rg.id[li_k] = dw_rg_charterer_by_id.getitemnumber(li_j, "id")
	next
else
	dw_rg_charterer_by_id.reset( )
end if

openwithparm(w_rg_choose, is_rg)

is_rg = message.powerobjectparm

dw_rg_charterer_by_id.settransobject(SQLCA)
if upperbound(is_rg.id) <> 0 then
	dw_rg_charterer_by_id.retrieve(ii_pcgroup,is_rg.id)
	for li_i = 1 to dw_rg_charterer_by_id.rowcount( )
		is_rg.id[li_i] = dw_rg_charterer_by_id.getitemnumber( li_i, "id")
	next
else
	dw_rg_charterer_by_id.reset( )
	is_rg.id = li_empty
end if


end event

type dw_rg_charterer_by_id from datawindow within w_rg_main
integer x = 2185
integer y = 664
integer width = 699
integer height = 216
integer taborder = 360
string title = "none"
string dataobject = "d_rg_user_by_id"
boolean vscrollbar = true
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type st_8 from statictext within w_rg_main
integer x = 2185
integer y = 596
integer width = 699
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "Charterer"
boolean focusrectangle = false
end type

type cb_6 from mt_u_commandbutton within w_rg_main
integer x = 23
integer y = 892
integer width = 585
integer taborder = 370
string text = "Choose"
end type

event clicked;call super::clicked;int		li_i, li_number, li_j, li_k
long	ll_empty[]

li_number = 7

is_rg.pcgroup = ii_pcgroup

if is_rg.number <> li_number then
	is_rg.id = ll_empty
	is_rg.number = li_number
end if

if dw_rg_broker_by_id.rowcount( ) > 0 then
	for li_j = 1 to dw_rg_broker_by_id.rowcount( )
		li_k++
		is_rg.id[li_k] = dw_rg_broker_by_id.getitemnumber(li_j, "id")
	next
end if


openwithparm(w_rg_choose, is_rg)

is_rg = message.powerobjectparm

dw_rg_broker_by_id.settransobject(SQLCA)
if upperbound(is_rg.id) <> 0 then
	dw_rg_broker_by_id.retrieve(ii_pcgroup,is_rg.id)
	for li_i = 1 to dw_rg_broker_by_id.rowcount( )
		is_rg.id[li_i] = dw_rg_broker_by_id.getitemnumber( li_i, "id")
	next
else
	dw_rg_broker_by_id.reset( )
	is_rg.id = ll_empty
end if

end event

type dw_rg_broker_by_id from datawindow within w_rg_main
integer x = 23
integer y = 664
integer width = 699
integer height = 216
integer taborder = 380
string title = "none"
string dataobject = "d_rg_user_by_id"
boolean vscrollbar = true
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type st_6 from statictext within w_rg_main
integer x = 23
integer y = 596
integer width = 699
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "Broker"
boolean focusrectangle = false
end type

type st_5 from statictext within w_rg_main
integer x = 745
integer y = 596
integer width = 297
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "Operator"
boolean focusrectangle = false
end type

type dw_rg_operator_by_id from datawindow within w_rg_main
integer x = 745
integer y = 664
integer width = 699
integer height = 216
integer taborder = 210
string title = "none"
string dataobject = "d_rg_user_by_id"
boolean vscrollbar = true
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type cb_5 from mt_u_commandbutton within w_rg_main
integer x = 745
integer y = 892
integer width = 585
integer taborder = 300
string text = "Choose"
end type

event clicked;call super::clicked;int		li_i, li_number, li_j, li_k
long	li_empty[]

li_number = 8

is_rg.pcgroup = ii_pcgroup

if is_rg.number <> li_number then
	is_rg.id = li_empty
	is_rg.number = li_number
end if

if dw_rg_operator_by_id.rowcount( ) > 0 then
	for li_j = 1 to dw_rg_operator_by_id.rowcount( )
		li_k++
		is_rg.id[li_k] = dw_rg_operator_by_id.getitemnumber(li_j, "id")
	next
else 
	dw_rg_operator_by_id.reset( )
end if

openwithparm(w_rg_choose, is_rg)

is_rg = message.powerobjectparm

dw_rg_operator_by_id.settransobject(SQLCA)
if upperbound(is_rg.id) <> 0 then
	dw_rg_operator_by_id.retrieve(ii_pcgroup,is_rg.id)
	for li_i = 1 to dw_rg_operator_by_id.rowcount( )
		is_rg.id[li_i] = dw_rg_operator_by_id.getitemnumber( li_i, "id")
	next
else
	dw_rg_operator_by_id.reset( )
	is_rg.id = li_empty
end if


end event

type cb_4 from mt_u_commandbutton within w_rg_main
integer x = 2185
integer y = 492
integer width = 585
integer taborder = 310
string text = "Choose"
end type

event clicked;call super::clicked;int		li_i, li_empty[], li_number, li_j, li_k

li_number = 4

is_rg.pcgroup = ii_pcgroup

if is_rg.number <> li_number then
	is_rg.id = li_empty
	is_rg.number = li_number
end if

if dw_rg_trade_by_id.rowcount( ) > 0 then
	for li_j = 1 to dw_rg_trade_by_id.rowcount( )
		li_k++
		is_rg.id[li_k] = dw_rg_trade_by_id.getitemnumber(li_j, "id")
	next
else
	dw_rg_trade_by_id.reset( )
end if

openwithparm(w_rg_choose, is_rg)

is_rg = message.powerobjectparm

dw_rg_trade_by_id.settransobject(SQLCA)
if upperbound(is_rg.id) <> 0 then
	dw_rg_trade_by_id.retrieve(ii_pcgroup,is_rg.id)
	for li_i = 1 to dw_rg_trade_by_id.rowcount( )
		is_rg.id[li_i] = dw_rg_trade_by_id.getitemnumber( li_i, "id")
	next
else
	dw_rg_trade_by_id.reset( )
	is_rg.id = li_empty
end if


end event

type dw_rg_trade_by_id from datawindow within w_rg_main
integer x = 2185
integer y = 264
integer width = 699
integer height = 216
integer taborder = 160
string title = "none"
string dataobject = "d_rg_trade_by_id"
boolean vscrollbar = true
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type st_4 from statictext within w_rg_main
integer x = 2185
integer y = 196
integer width = 699
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "Trade"
boolean focusrectangle = false
end type

type st_3 from statictext within w_rg_main
integer x = 1463
integer y = 196
integer width = 699
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "Contract Type"
boolean focusrectangle = false
end type

type dw_rg_cargotype_by_id from datawindow within w_rg_main
integer x = 1463
integer y = 264
integer width = 699
integer height = 216
integer taborder = 180
string title = "none"
string dataobject = "d_rg_cargotype_by_id"
boolean vscrollbar = true
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type cb_3 from mt_u_commandbutton within w_rg_main
integer x = 1463
integer y = 492
integer width = 585
integer taborder = 260
string text = "Choose"
end type

event clicked;call super::clicked;int		li_i, li_empty[], li_number, li_j, li_k

li_number = 3

is_rg.pcgroup = ii_pcgroup

if is_rg.number <> li_number then
	is_rg.id = li_empty
	is_rg.number = li_number
end if

if dw_rg_cargotype_by_id.rowcount( ) > 0 then
	for li_j = 1 to dw_rg_cargotype_by_id.rowcount( )
		li_k++
		is_rg.id[li_k] = dw_rg_cargotype_by_id.getitemnumber(li_j, "id")
	next
else
	dw_rg_cargotype_by_id.reset( )
end if

openwithparm(w_rg_choose, is_rg)

is_rg = message.powerobjectparm

dw_rg_cargotype_by_id.settransobject(SQLCA)
if upperbound(is_rg.id) <> 0 then
	dw_rg_cargotype_by_id.retrieve(is_rg.id)
	for li_i = 1 to dw_rg_cargotype_by_id.rowcount( )
		is_rg.id[li_i] = dw_rg_cargotype_by_id.getitemnumber( li_i, "id")
	next
else
	dw_rg_cargotype_by_id.reset( )
	is_rg.id = li_empty
end if


end event

type cb_2 from mt_u_commandbutton within w_rg_main
integer x = 745
integer y = 492
integer width = 585
integer taborder = 220
string text = "Choose"
end type

event clicked;call super::clicked;int		li_i, li_empty[], li_number, li_j, li_k

li_number = 2
is_rg.pcgroup = ii_pcgroup

if is_rg.number <> li_number then
	is_rg.id = li_empty
	is_rg.number = li_number
end if

if dw_rg_status_by_id.rowcount( ) > 0 then
	for li_j = 1 to dw_rg_status_by_id.rowcount( )
		li_k++
		is_rg.id[li_k] = dw_rg_status_by_id.getitemnumber(li_j, "id")
	next
else
	dw_rg_status_by_id.reset( )
end if

openwithparm(w_rg_choose, is_rg)

is_rg = message.powerobjectparm

dw_rg_status_by_id.settransobject(SQLCA)
if upperbound(is_rg.id) <> 0 then
	dw_rg_status_by_id.retrieve(is_rg.id)
	for li_i = 1 to dw_rg_status_by_id.rowcount( )
		is_rg.id[li_i] = dw_rg_status_by_id.getitemnumber( li_i, "id")
	next
else
	dw_rg_status_by_id.reset( )
	is_rg.id = li_empty
end if


end event

type dw_rg_status_by_id from datawindow within w_rg_main
integer x = 745
integer y = 264
integer width = 699
integer height = 216
integer taborder = 120
string title = "none"
string dataobject = "d_rg_status_by_id"
boolean vscrollbar = true
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type st_2 from statictext within w_rg_main
integer x = 745
integer y = 196
integer width = 699
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "Fixture Status"
boolean focusrectangle = false
end type

type cb_1 from mt_u_commandbutton within w_rg_main
integer x = 23
integer y = 492
integer width = 585
integer taborder = 190
string text = "Choose"
end type

event clicked;call super::clicked;int		li_i, li_empty[], li_number, li_j,li_k

li_number = 1

is_rg.pcgroup = ii_pcgroup

if is_rg.number <> li_number then
	is_rg.id = li_empty
	is_rg.number = li_number
end if

if dw_rg_printheader_by_id.rowcount( ) > 0 then
	for li_j = 1 to dw_rg_printheader_by_id.rowcount( )
		li_k++
		is_rg.id[li_k] = dw_rg_printheader_by_id.getitemnumber(li_j, "id")
	next
else
	dw_rg_printheader_by_id.reset()
end if

openwithparm(w_rg_choose, is_rg)

is_rg = message.powerobjectparm

dw_rg_printheader_by_id.settransobject(SQLCA)
if upperbound(is_rg.id) <> 0 then
	dw_rg_printheader_by_id.retrieve(is_rg.id)
	for li_i = 1 to dw_rg_printheader_by_id.rowcount( )
		is_rg.id[li_i] = dw_rg_printheader_by_id.getitemnumber( li_i, "id")
	next
else
	dw_rg_printheader_by_id.reset( )
	is_rg.id = li_empty
end if


end event

type st_1 from statictext within w_rg_main
integer x = 23
integer y = 196
integer width = 699
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "Print Headers"
boolean focusrectangle = false
end type

type dw_rg_printheader_by_id from datawindow within w_rg_main
integer x = 23
integer y = 264
integer width = 699
integer height = 216
integer taborder = 130
string title = "none"
string dataobject = "d_rg_printheader_by_id"
boolean vscrollbar = true
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type dw_lcstart_to from datawindow within w_rg_main
integer x = 1097
integer y = 84
integer width = 302
integer height = 92
integer taborder = 30
boolean bringtotop = true
string title = "none"
string dataobject = "d_date"
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type sle_vesselage_to from mt_u_singlelineedit within w_rg_main
boolean visible = false
integer x = 3424
integer y = 84
integer width = 183
integer height = 88
integer taborder = 110
boolean bringtotop = true
string text = ""
end type

type gb_1 from mt_u_groupbox within w_rg_main
integer x = 3671
integer y = 128
integer width = 1376
integer height = 1264
integer taborder = 540
string text = "Template"
end type

type dw_new from datawindow within w_rg_main
integer x = 27
integer y = 1412
integer width = 5024
integer height = 2008
integer taborder = 460
boolean hscrollbar = true
boolean vscrollbar = true
borderstyle borderstyle = stylelowered!
end type

type dw_rg_dischargeport_by_id from datawindow within w_rg_main
integer x = 2185
integer y = 1072
integer width = 699
integer height = 216
integer taborder = 230
string title = "none"
string dataobject = "d_rg_port_by_id"
boolean vscrollbar = true
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type st_17 from statictext within w_rg_main
integer x = 2185
integer y = 1008
integer width = 699
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "Discharge Port"
boolean focusrectangle = false
end type

type st_16 from statictext within w_rg_main
integer x = 1463
integer y = 1008
integer width = 699
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "Load Port"
boolean focusrectangle = false
end type

type dw_rg_loadport_by_id from datawindow within w_rg_main
integer x = 1463
integer y = 1072
integer width = 699
integer height = 216
integer taborder = 510
string title = "none"
string dataobject = "d_rg_port_by_id"
boolean vscrollbar = true
boolean livescroll = true
borderstyle borderstyle = stylelowered!
end type

type st_13 from statictext within w_rg_main
boolean visible = false
integer x = 4402
integer y = 192
integer width = 699
integer height = 64
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Tahoma"
long textcolor = 33554432
long backcolor = 67108864
string text = "C/P Status"
boolean focusrectangle = false
end type

type mle_1 from multilineedit within w_rg_main
boolean visible = false
integer x = 2816
integer y = 1516
integer width = 2144
integer height = 368
integer taborder = 420
boolean bringtotop = true
integer textsize = -9
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "MS Sans Serif"
string pointer = "arrow!"
long textcolor = 41943040
long backcolor = 74481808
boolean vscrollbar = true
borderstyle borderstyle = stylelowered!
end type

event modified;//uf_createtemplate(dw_rg_printheader_by_id,"Print Headers",ll_reportgtemplateid)
//uf_createtemplate(dw_rg_status_by_id,"Fixture Status",ll_reportgtemplateid)
//uf_createtemplate(dw_rg_cargotype_by_id,"Cargo Type",ll_reportgtemplateid)
//uf_createtemplate(dw_rg_trade_by_id,"Trade",ll_reportgtemplateid)
//uf_createtemplate(dw_rg_owner_by_id,"Owner",ll_reportgtemplateid)
//uf_createtemplate(dw_rg_charterer_by_id,"Charterer",ll_reportgtemplateid)
//uf_createtemplate(dw_rg_cpstatus_by_id,"C/P Status",ll_reportgtemplateid)
//uf_createtemplate(dw_rg_broker_by_id,"Broker",ll_reportgtemplateid)
//uf_createtemplate(dw_rg_operator_by_id,"Operator",ll_reportgtemplateid)
//uf_createtemplate(dw_rg_vessel_by_id,"Vessel",ll_reportgtemplateid)
//uf_createtemplate(dw_rg_hull_by_id,"Hull Type",ll_reportgtemplateid)
//uf_createtemplate(dw_rg_grade_by_id,"Grade",ll_reportgtemplateid)
//uf_createtemplate(dw_rg_loadarea_by_id,"Load Area",ll_reportgtemplateid)
//uf_createtemplate(dw_rg_dischargearea_by_id,"Discharge Area",ll_reportgtemplateid)
//uf_createtemplate(dw_rg_loadport_by_id,"Load Port",ll_reportgtemplateid)
//uf_createtemplate(dw_rg_dischargeport_by_id,"Discharge Port",ll_reportgtemplateid)
//uf_createtemplate_date(dw_lcstart_from,"FromLCStart",ll_reportgtemplateid)
//uf_createtemplate_date(dw_lcstart_to,"ToLCStart",ll_reportgtemplateid)
//uf_createtemplate_date(dw_lcend_from,"FromLCEnd",ll_reportgtemplateid)
//uf_createtemplate_date(dw_lcend_to,"ToLCEnd",ll_reportgtemplateid)
//uf_createtemplate_date(dw_fixturereported_from,"FromFixture",ll_reportgtemplateid)
//uf_createtemplate_date(dw_fixturereported_to,"ToFixture",ll_reportgtemplateid)
//uf_createtemplate_text(sle_cargosize_from,"FromCargoSize",ll_reportgtemplateid)
//uf_createtemplate_text(sle_cargosize_to,"ToCargoSize",ll_reportgtemplateid)
end event

